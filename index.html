<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PipSense - AI Trading Assistant</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4f46e5;
            --primary-dark: #4338ca;
            --secondary: #06b6d4;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #0f172a;
            --darker: #0b1120;
            --light: #f1f5f9;
            --gray: #94a3b8;
            --card-bg: #1e293b;
            --card-border: #334155;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
            color: var(--light);
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        /* Header Styles */
        header {
            padding: 1.5rem 0;
            border-bottom: 1px solid var(--card-border);
            position: relative;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .logo-icon {
            background: var(--primary);
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .logo h1 {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            font-size: 1.75rem;
            background: linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .market-selector {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .market-btn {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            color: var(--gray);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .market-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        /* Alert Banner */
        .alert-banner {
            background: linear-gradient(90deg, #7f1d1d 0%, #ef4444 100%);
            padding: 0.75rem;
            border-radius: 8px;
            margin: 1rem 0;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }
        
        .alert-banner i {
            font-size: 1.25rem;
        }
        
        /* Main Layout */
        .dashboard {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        @media (min-width: 992px) {
            .dashboard {
                grid-template-columns: 2fr 1fr;
            }
        }
        
        .panel {
            background: var(--card-bg);
            border-radius: 16px;
            border: 1px solid var(--card-border);
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .panel-header {
            padding: 1.25rem 1.5rem;
            border-bottom: 1px solid var(--card-border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .panel-header h2 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .panel-content {
            padding: 1.5rem;
        }
        
        /* Chatbot Styles */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: 500px;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
        }
        
        .message {
            max-width: 80%;
            padding: 0.9rem 1.2rem;
            border-radius: 18px;
            animation: fadeIn 0.3s ease;
            position: relative;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .user-message {
            background: var(--primary);
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .ai-message {
            background: #2d3748;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
        }
        
        .message-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.25rem;
            font-size: 0.85rem;
            opacity: 0.8;
        }
        
        .chat-input {
            display: flex;
            padding: 1rem;
            border-top: 1px solid var(--card-border);
            gap: 0.75rem;
        }
        
        .chat-input input {
            flex: 1;
            padding: 0.9rem 1.2rem;
            border-radius: 50px;
            background: #1a2438;
            border: 1px solid var(--card-border);
            color: var(--light);
            font-size: 1rem;
        }
        
        .chat-input button {
            background: var(--primary);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .chat-input button:hover {
            background: var(--primary-dark);
        }
        
        /* Sentiment Styles */
        .sentiment-card {
            background: linear-gradient(135deg, #1e3a8a 0%, var(--card-bg) 100%);
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .sentiment-header {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }
        
        .sentiment-icon {
            font-size: 2.5rem;
        }
        
        .bullish { color: var(--success); }
        .bearish { color: var(--danger); }
        .neutral { color: var(--warning); }
        
        .sentiment-value {
            font-size: 1.75rem;
            font-weight: 700;
            font-family: 'Poppins', sans-serif;
        }
        
        .sentiment-explanation {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 12px;
            font-size: 0.95rem;
            line-height: 1.7;
        }
        
        /* Calculator Styles */
        .input-group {
            margin-bottom: 1.25rem;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
            color: var(--gray);
        }
        
        .input-group input, 
        .input-group select {
            width: 100%;
            padding: 0.9rem;
            border-radius: 12px;
            background: #1a2438;
            border: 1px solid var(--card-border);
            color: var(--light);
            font-size: 1rem;
        }
        
        .calculator-result {
            background: linear-gradient(135deg, #164e63 0%, #0c4a6e 100%);
            padding: 1.5rem;
            border-radius: 12px;
            margin-top: 1.5rem;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .result-item:last-child {
            border-bottom: none;
        }
        
        .result-value {
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        .positive { color: var(--success); }
        .negative { color: var(--danger); }
        
        .calculate-btn {
            width: 100%;
            padding: 1rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 1rem;
        }
        
        .calculate-btn:hover {
            background: var(--primary-dark);
        }
        
        /* News Styles */
        .news-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .news-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 12px;
            display: flex;
            gap: 1rem;
            transition: transform 0.3s;
        }
        
        .news-item:hover {
            transform: translateY(-3px);
            background: rgba(255, 255, 255, 0.08);
        }
        
        .news-badge {
            background: var(--danger);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .news-time {
            color: var(--secondary);
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .news-content {
            flex: 1;
        }
        
        /* Premium CTA */
        .premium-cta {
            background: linear-gradient(135deg, #7c3aed 0%, #4f46e5 100%);
            padding: 1.5rem;
            border-radius: 16px;
            text-align: center;
            margin-top: 1.5rem;
        }
        
        .premium-cta h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .premium-btn {
            background: #fbbf24;
            color: #78350f;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .premium-btn:hover {
            background: #fcd34d;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(251, 191, 36, 0.3);
        }
        
        /* Footer Styles */
        footer {
            text-align: center;
            padding: 2rem 0;
            margin-top: 2rem;
            border-top: 1px solid var(--card-border);
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 1rem;
        }
        
        .footer-links a {
            color: var(--gray);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--light);
        }
        
        /* Responsive Adjustments */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .logo h1 {
                font-size: 1.5rem;
            }
            
            .market-selector {
                width: 100%;
                overflow-x: auto;
                padding-bottom: 0.5rem;
            }
            
            .chat-messages {
                padding: 1rem;
            }
            
            .message {
                max-width: 90%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h1>PipSense AI</h1>
                </div>
                <div class="market-selector">
                    <button class="market-btn active">Forex</button>
                    <button class="market-btn">Crypto</button>
                    <button class="market-btn">Stocks</button>
                    <button class="market-btn">Indices</button>
                    <button class="market-btn">Commodities</button>
                </div>
            </div>
        </header>
        
        <div class="alert-banner">
            <i class="fas fa-exclamation-triangle"></i>
            <div>
                <strong>USD - Non-Farm Payrolls</strong> in 2 hours. Expect high volatility!
            </div>
        </div>
        
        <div class="dashboard">
            <!-- Left Panel: Chatbot -->
            <div class="panel">
                <div class="panel-header">
                    <h2><i class="fas fa-robot"></i> Trading Assistant</h2>
                    <button id="reset-chat" class="market-btn"><i class="fas fa-sync-alt"></i> Reset</button>
                </div>
                <div class="panel-content">
                    <div class="chat-container">
                        <div class="chat-messages" id="chat-messages">
                            <!-- Messages will be inserted here by JavaScript -->
                            <div class="message ai-message">
                                <div class="message-header">
                                    <span>PipSense AI</span>
                                    <span>Just now</span>
                                </div>
                                <div class="message-content">
                                    Hello! I'm your AI trading assistant. How can I help you today? You can ask about market sentiment, profit calculations, or trading strategies.
                                </div>
                            </div>
                        </div>
                        <div class="chat-input">
                            <input type="text" id="user-input" placeholder="Ask about markets, strategies, or calculations...">
                            <button id="send-btn"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Right Panel: Tools -->
            <div>
                <!-- Sentiment Card -->
                <div class="panel">
                    <div class="panel-header">
                        <h2><i class="fas fa-chart-line"></i> Market Sentiment</h2>
                    </div>
                    <div class="panel-content">
                        <div class="input-group">
                            <label for="asset-input">Asset / Currency Pair</label>
                            <input type="text" id="asset-input" placeholder="e.g. BTC/USD, EUR/USD, AAPL" value="EUR/USD">
                        </div>
                        
                        <div class="sentiment-card">
                            <div class="sentiment-header">
                                <div class="sentiment-icon">
                                    <i class="fas fa-arrow-trend-down bearish"></i>
                                </div>
                                <div class="sentiment-value bearish">Bearish</div>
                            </div>
                            <div class="sentiment-explanation">
                                EUR/USD is showing bearish momentum with price breaking below the 200-day moving average. RSI at 35 indicates potential oversold conditions, but trend remains downward with strong USD fundamentals.
                            </div>
                        </div>
                        
                        <button class="calculate-btn" id="analyze-btn">
                            <i class="fas fa-magnifying-glass-chart"></i> Analyze Market
                        </button>
                    </div>
                </div>
                
                <!-- Calculator -->
                <div class="panel">
                    <div class="panel-header">
                        <h2><i class="fas fa-calculator"></i> Profit Calculator</h2>
                    </div>
                    <div class="panel-content">
                        <div class="input-group">
                            <label for="market-type">Market Type</label>
                            <select id="market-type">
                                <option>Forex</option>
                                <option>Crypto</option>
                                <option>Stocks</option>
                                <option>Indices</option>
                                <option>Commodities</option>
                            </select>
                        </div>
                        
                        <div class="input-group">
                            <label for="asset-symbol">Asset Symbol</label>
                            <input type="text" id="asset-symbol" placeholder="e.g. EUR/USD, BTC, AAPL" value="EUR/USD">
                        </div>
                        
                        <div class="input-group">
                            <label for="lot-size">Lot Size / Quantity</label>
                            <input type="number" id="lot-size" placeholder="e.g. 0.5, 100" value="0.5">
                        </div>
                        
                        <div class="input-group">
                            <label for="entry-price">Entry Price</label>
                            <input type="number" id="entry-price" placeholder="Entry price" value="1.0850">
                        </div>
                        
                        <div class="input-group">
                            <label for="exit-price">Exit Price</label>
                            <input type="number" id="exit-price" placeholder="Exit price" value="1.0910">
                        </div>
                        
                        <button class="calculate-btn" id="calculate-btn">
                            <i class="fas fa-calculator"></i> Calculate Profit
                        </button>
                        
                        <div class="calculator-result">
                            <div class="result-item">
                                <span>Pips Movement:</span>
                                <span class="result-value positive">60 pips</span>
                            </div>
                            <div class="result-item">
                                <span>Profit/Loss:</span>
                                <span class="result-value positive">$300.00</span>
                            </div>
                            <div class="result-item">
                                <span>ROI:</span>
                                <span class="result-value positive">5.2%</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- News & Premium -->
                <div class="panel">
                    <div class="panel-header">
                        <h2><i class="fas fa-bell"></i> Economic Alerts</h2>
                    </div>
                    <div class="panel-content">
                        <div class="news-list">
                            <div class="news-item">
                                <div>
                                    <div class="news-badge">HIGH</div>
                                    <div class="news-time">2 hrs</div>
                                </div>
                                <div class="news-content">
                                    <strong>USD - Non-Farm Payrolls</strong>
                                    <p>US employment data release. Expect USD volatility.</p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div>
                                    <div class="news-badge">MED</div>
                                    <div class="news-time">Tomorrow</div>
                                </div>
                                <div class="news-content">
                                    <strong>EUR - ECB Interest Rate Decision</strong>
                                    <p>European Central Bank rate announcement.</p>
                                </div>
                            </div>
                            <div class="news-item">
                                <div>
                                    <div class="news-badge">LOW</div>
                                    <div class="news-time">2 days</div>
                                </div>
                                <div class="news-content">
                                    <strong>CAD - BoC Business Outlook Survey</strong>
                                    <p>Bank of Canada business sentiment report.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="premium-cta">
                    <h3>Unlock AI+ Mode</h3>
                    <p>Daily forecasts, real-time alerts, and advanced analytics</p>
                    <button class="premium-btn">
                        <i class="fas fa-bolt"></i> Upgrade Now - ₦500/month
                    </button>
                </div>
            </div>
        </div>
        
        <footer>
            <p>© 2023 PipSense AI. All rights reserved. This is for educational purposes only.</p>
            <div class="footer-links">
                <a href="#"><i class="fab fa-telegram"></i> Telegram</a>
                <a href="#"><i class="fas fa-book"></i> Documentation</a>
                <a href="#"><i class="fas fa-lock"></i> Privacy Policy</a>
            </div>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Market selector
            const marketBtns = document.querySelectorAll('.market-btn');
            marketBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    marketBtns.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                });
            });
            
            // Chatbot functionality
            const chatMessages = document.getElementById('chat-messages');
            const userInput = document.getElementById('user-input');
            const sendBtn = document.getElementById('send-btn');
            const resetBtn = document.getElementById('reset-chat');
            
            // Sample AI responses
            const aiResponses = [
                { 
                    keywords: ['sentiment', 'bullish', 'bearish', 'neutral', 'outlook'], 
                    response: "Current sentiment for EUR/USD is bearish. Price is below the 200-day MA with RSI at 35. However, the Fed's dovish stance could provide support. Consider short positions with tight stops."
                },
                { 
                    keywords: ['calculate', 'profit', 'pips', 'lot', 'ROI'], 
                    response: "For 0.5 lots at 60 pips: Profit = $300. Remember to account for spread and commission. Risk management is crucial - never risk more than 1% per trade."
                },
                { 
                    keywords: ['news', 'event', 'alert', 'NFP', 'ECB'], 
                    response: "Key events today: USD Non-Farm Payrolls in 2 hours (HIGH impact), EUR ECB speech at 15:00 (MED impact). Avoid trading during high-impact news if you're risk-averse."
                },
                { 
                    keywords: ['strategy', 'approach', 'method', 'trade'], 
                    response: "For current market conditions, consider: 1) Breakout trading with ATR-based stops, 2) Mean reversion at key S/R levels. Always use stop losses and take profits. Never risk more than 1% of your account."
                },
                { 
                    keywords: ['risk', 'management', 'stop loss', 'position'], 
                    response: "Effective risk management: 1) Use 1% risk rule per trade, 2) Set stop losses at technical levels, 3) Take profit at 1:2 or 1:3 risk-reward ratio. Emotional discipline is key to long-term success."
                },
                { 
                    keywords: ['hello', 'hi', 'hey'], 
                    response: "Hello! I'm PipSense AI, your trading assistant. How can I help you today? Ask about market sentiment, profit calculations, or trading strategies."
                },
                { 
                    keywords: ['thank', 'thanks', 'appreciate'], 
                    response: "You're welcome! Remember: 'The market is designed to fool most of the people most of the time.' - Jesse Livermore. Stay disciplined and trade wisely."
                },
                { 
                    keywords: ['psychology', 'emotional', 'fear', 'greed'], 
                    response: "Trading psychology is crucial. Control fear and greed by: 1) Following your trading plan, 2) Not chasing losses, 3) Taking breaks after big wins or losses. 'The most important quality is emotional discipline.' - Warren Buffett"
                },
                { 
                    keywords: ['bitcoin', 'btc', 'crypto'], 
                    response: "BTC/USD is currently showing neutral sentiment. Trading at $29,500 with resistance at $30,000. MACD shows weakening bullish momentum. Watch for breakout above $30,200 or breakdown below $29,000."
                },
                { 
                    keywords: ['gold', 'xau'], 
                    response: "Gold (XAU/USD) is bullish amid dollar weakness. Currently at $1,950 with next resistance at $1,975. RSI at 62 suggests room for upside. Consider long positions with stop below $1,930."
                }
            ];
            
            // Default responses
            const defaultResponses = [
                "I'm designed to assist with trading queries. Try asking about market sentiment, profit calculations, or trading strategies.",
                "As an AI trading assistant, I can help analyze markets, calculate profits, and provide trading insights. What would you like to know?",
                "For trading success, focus on risk management and emotional discipline. How can I assist you today?",
                "The markets are constantly changing. I can help you navigate them. What specific question do you have?"
            ];
            
            function addMessage(content, isUser = false) {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message');
                messageDiv.classList.add(isUser ? 'user-message' : 'ai-message');
                
                const now = new Date();
                const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                
                messageDiv.innerHTML = `
                    <div class="message-header">
                        <span>${isUser ? 'You' : 'PipSense AI'}</span>
                        <span>${timeString}</span>
                    </div>
                    <div class="message-content">${content}</div>
                `;
                
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            function getAIResponse(userMessage) {
                const lowerMsg = userMessage.toLowerCase();
                
                // Check for matching response
                for (const response of aiResponses) {
                    for (const keyword of response.keywords) {
                        if (lowerMsg.includes(keyword)) {
                            return response.response;
                        }
                    }
                }
                
                // Return random default response
                return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
            }
            
            function handleUserMessage() {
                const message = userInput.value.trim();
                if (!message) return;
                
                addMessage(message, true);
                userInput.value = '';
                
                // Simulate AI thinking delay
                setTimeout(() => {
                    const aiResponse = getAIResponse(message);
                    addMessage(aiResponse, false);
                }, 800);
            }
            
            sendBtn.addEventListener('click', handleUserMessage);
            userInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleUserMessage();
            });
            
            resetBtn.addEventListener('click', () => {
                chatMessages.innerHTML = '';
                addMessage("Chat history cleared. How can I assist you with your trading today?", false);
            });
            
            // Sentiment analyzer
            const analyzeBtn = document.getElementById('analyze-btn');
            const sentimentValue = document.querySelector('.sentiment-value');
            const sentimentIcon = document.querySelector('.sentiment-icon i');
            const sentimentExplanation = document.querySelector('.sentiment-explanation');
            
            const sentiments = [
                { 
                    type: 'bullish', 
                    icon: 'fa-arrow-trend-up',
                    explanations: [
                        "is showing strong bullish momentum with price above key moving averages. RSI at 65 indicates strength without being overbought. Consider long positions with stop below support.",
                        "has broken key resistance with high volume. MACD shows increasing bullish divergence. Next target at recent highs. Maintain long positions with trailing stops.",
                        "bullish sentiment is strengthening as fundamentals improve. Price action forming higher highs and higher lows. Enter long positions on pullbacks to support."
                    ]
                },
                { 
                    type: 'bearish', 
                    icon: 'fa-arrow-trend-down',
                    explanations: [
                        "is showing bearish momentum with price breaking below the 200-day moving average. RSI at 35 indicates potential oversold conditions, but trend remains downward.",
                        "has broken key support levels with increasing volume. Bearish MACD crossover suggests further downside potential. Consider short positions with tight stops.",
                        "bearish sentiment is strengthening amid fundamental concerns. Price action forming lower highs and lower lows. Enter short positions on rallies to resistance."
                    ]
                },
                { 
                    type: 'neutral', 
                    icon: 'fa-arrow-right-arrow-left',
                    explanations: [
                        "is trading in a tight range between key support and resistance. RSI at 50 indicates balanced momentum. Wait for breakout confirmation before taking positions.",
                        "is consolidating after recent moves. Bollinger Bands are narrowing, suggesting a volatility expansion soon. Consider range-bound strategies or wait for breakout.",
                        "shows neutral sentiment as bulls and bulls reach equilibrium. Price is trading around key moving averages. Use range trading strategies with defined support and resistance levels."
                    ]
                }
            ];
            
            analyzeBtn.addEventListener('click', () => {
                const assetInput = document.getElementById('asset-input').value || 'EUR/USD';
                const randomSentiment = sentiments[Math.floor(Math.random() * sentiments.length)];
                const randomExplanation = randomSentiment.explanations[Math.floor(Math.random() * randomSentiment.explanations.length)];
                
                sentimentValue.textContent = randomSentiment.type.charAt(0).toUpperCase() + randomSentiment.type.slice(1);
                sentimentValue.className = 'sentiment-value ' + randomSentiment.type;
                
                sentimentIcon.className = 'fas ' + randomSentiment.icon + ' ' + randomSentiment.type;
                sentimentExplanation.textContent = assetInput + ' ' + randomExplanation;
                
                // Add to chat
                addMessage(`I analyzed ${assetInput}: Current sentiment is ${randomSentiment.type}. ${assetInput} ${randomExplanation}`, false);
            });
            
            // Profit calculator
            const calculateBtn = document.getElementById('calculate-btn');
            const resultItems = document.querySelectorAll('.result-item .result-value');
            
            calculateBtn.addEventListener('click', () => {
                const marketType = document.getElementById('market-type').value;
                const assetSymbol = document.getElementById('asset-symbol').value || 'EUR/USD';
                const lotSize = parseFloat(document.getElementById('lot-size').value) || 0.5;
                const entryPrice = parseFloat(document.getElementById('entry-price').value) || 1.0850;
                const exitPrice = parseFloat(document.getElementById('exit-price').value) || 1.0910;
                
                // Calculate values
                const priceDiff = Math.abs(exitPrice - entryPrice);
                const pips = marketType === 'Forex' ? Math.round(priceDiff * 10000) : 0;
                const profit = marketType === 'Forex' ? (priceDiff * 100000 * lotSize).toFixed(2) : 
                             marketType === 'Crypto' ? (priceDiff * lotSize).toFixed(2) : 
                             (priceDiff * lotSize).toFixed(2);
                
                const roi = ((priceDiff / entryPrice) * 100).toFixed(1);
                const isProfit = exitPrice > entryPrice;
                
                // Update results
                resultItems[0].textContent = marketType === 'Forex' ? `${pips} pips` : 
                                           marketType === 'Crypto' ? `${(priceDiff / entryPrice * 100).toFixed(2)}%` : 
                                           `${priceDiff.toFixed(4)} points`;
                resultItems[0].className = 'result-value ' + (isProfit ? 'positive' : 'negative');
                
                resultItems[1].textContent = `${isProfit ? '$' : '-$'}${profit}`;
                resultItems[1].className = 'result-value ' + (isProfit ? 'positive' : 'negative');
                
                resultItems[2].textContent = `${isProfit ? '' : '-'}${roi}%`;
                resultItems[2].className = 'result-value ' + (isProfit ? 'positive' : 'negative');
                
                // Add to chat
                const profitText = isProfit ? `profit of $${profit}` : `loss of $${Math.abs(profit)}`;
                addMessage(`Calculated trade for ${assetSymbol}: ${marketType} trade with ${lotSize} ${marketType === 'Stocks' ? 'shares' : 'lots'} would result in ${profitText} (${roi}% ROI).`, false);
            });
        });
    </script>
</body>
</html>
